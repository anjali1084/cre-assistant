<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CRE Digital Assistant - Market Analysis</title>
  <link rel="stylesheet" href="./dist/output.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="bg-gray-100 font-sans">

  <!-- Header -->
  <header class="bg-blue-600 text-white p-4 shadow">
    <h1 class="text-2xl font-bold">CRE Digital Assistant</h1>
  </header>

  <!-- Navigation -->
  <nav class="bg-white p-4 shadow flex space-x-4">
    <a href="index.html" class="text-blue-600 hover:underline">Dashboard</a>
    <a href="client-onboarding.html" class="text-blue-600 hover:underline">Client Onboarding</a>
    <a href="property-management.html" class="text-blue-600 hover:underline">Property Management</a>
    <a href="market-analysis.html" class="text-blue-600 font-semibold">Market Analysis</a>
    <a href="transaction-support.html" class="text-blue-600 hover:underline">Transaction Support</a>
    <a href="personalized-recommendations.html" class="text-blue-600 hover:underline">Recommendations</a>
  </nav>

  <main class="p-6 max-w-4xl mx-auto">

    <!-- Price Trend Chart -->
    <div class="bg-white p-6 rounded shadow mb-6">
      <h2 class="text-xl font-bold mb-4">Property Price Trend</h2>
      <canvas id="priceTrendChart"></canvas>
    </div>

    <!-- Property Comparison Chart -->
    <div class="bg-white p-6 rounded shadow mb-6">
      <h2 class="text-xl font-bold mb-4">Property Comparison</h2>
      <canvas id="comparisonChart"></canvas>
    </div>

  </main>

  <footer class="bg-gray-200 text-gray-700 p-4 text-center mt-6">
    &copy; 2025 CRE Digital Assistant. All rights reserved.
  </footer>

  <script>
    // Sample Data (replace with real property data)
    const properties = JSON.parse(localStorage.getItem("properties") || "[]");
    const labels = properties.map(p => p.name || "Property");

    const prices = properties.map(p => p.price || 0);
    const inquiries = properties.map(p => Math.floor(Math.random() * 50));

    // Price Trend Chart
    const ctx1 = document.getElementById('priceTrendChart').getContext('2d');
    new Chart(ctx1, {
      type: 'line',
      data: {
        labels,
        datasets: [{
          label: 'Price ($)',
          data: prices,
          borderColor: 'rgba(59,130,246,1)',
          backgroundColor: 'rgba(59,130,246,0.2)',
          tension: 0.3
        }]
      },
      options: {
        responsive: true,
        plugins: { legend: { display: true } },
        scales: { y: { beginAtZero: true } }
      }
    });

    // Property Comparison Chart (Inquiries vs Price)
    const ctx2 = document.getElementById('comparisonChart').getContext('2d');
    new Chart(ctx2, {
      type: 'bar',
      data: {
        labels,
        datasets: [
          {
            label: 'Price ($)',
            data: prices,
            backgroundColor: 'rgba(59,130,246,0.7)'
          },
          {
            label: 'Inquiries',
            data: inquiries,
            backgroundColor: 'rgba(16,185,129,0.7)'
          }
        ]
      },
      options: { responsive: true, plugins: { legend: { position: 'top' } } }
    });
  </script>

</body>
</html>
